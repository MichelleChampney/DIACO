@model IEnumerable<Entities.eQuejaConteo>

@if (string.IsNullOrEmpty(ViewBag.Error) == false)
{
    <div class="alert bg-primary" role="alert"><em class="fa fa-lg fa-warning">&nbsp;</em>@ViewBag.Error</div>
}

<div class="panel-body tabs">
    <ul class="nav nav-pills">
        <li class="active"><a href="#pilltab1" data-toggle="tab">Tabla</a></li>
        <li><a href="#pilltab2" data-toggle="tab">Gr&#225;ficas</a></li>
    </ul>
    <div class="tab-content">
        <div class="tab-pane fade in active" id="pilltab1">
            <table id="DataTable" style="overflow-x: scroll;" class="table table-responsive table-striped">
                <thead>
                    <tr>
                        <th>Regi&#243;n</th>
                        <th class="text-right">Conteo</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.NombreRegion)
                            </td>
                            <td class="text-right">
                                @item.Conteo.ToString("#,##0")
                            </td>
                        </tr>
                    }
                </tbody>
                <tfoot>
                    <tr>
                        <th class="text-right">Total</th>
                        <th class="text-right">@Model.Select(m => m.Conteo).Sum().ToString("#,##0")</th>
                    </tr>
                </tfoot>
            </table>
        </div>
        <div class="tab-pane fade" id="pilltab2">
            <input id="datos" style="width: 100%" value="@ViewBag.Data" hidden />
            <div id="chartdiv" style="width: 100%; height: 500px;"></div>
        </div>
    </div>
</div>